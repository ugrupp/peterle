{{ with .Resources.GetMatch "history*.md" }}
  <div class="c-history">
    <div class="c-history__masonry o-grid" data-masonry-grid>
      {{/* masonry columns */}}
      <div class="c-history__masonry-col o-grid__col" data-masonry-col></div>
      <div class="c-history__masonry-col o-grid__col" data-masonry-col></div>

      {{/* masonry items */}}
      {{ range .Params.events }}
        <div class="c-history__event" data-masonry-item data-reveal>
          {{/* Date */}}
          <time class="c-history__date">
            {{.date | markdownify}}
          </time>

          {{/* Separator */}}
          <div class="c-history__separator">
            {{ partial "components/separator" (dict "single" true) }}
          </div>

          {{/* Text */}}
          <div class="c-history__text c-richtext">
            {{.text | markdownify}}
          </div>

          {{/* Image */}}
          {{if .image}}
            <div class="c-history__img-wrapper{{with .imagePos}} c-history__img-wrapper--image-{{.}}{{end}}">
              {{ with $.Resources.GetMatch .image }}
                {{ $imageSmall := .Resize "500x" }}
                {{ $imageMedium := .Resize "800x" }}

                <img
                  alt=""
                  src="{{ $imageSmall.RelPermalink }}"
                  srcset="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="
                  data-srcset="{{ $imageSmall.RelPermalink }} 500w, {{ $imageMedium.RelPermalink }} 800w"
                  data-sizes="auto"
                  class="c-history__img lazyload" />
              {{ end }}
            </div>
          {{end}}
        </div>
      {{end}}
    </div>
  </div>
{{end}}
